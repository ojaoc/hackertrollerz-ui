(this["webpackJsonpui-hackathon"]=this["webpackJsonpui-hackathon"]||[]).push([[0],{172:function(e,t,n){},173:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),r=n(52),i=n.n(r),o=n(7),c=n(8),l=n(10),u=n(9),m=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).handleClickAgree=function(){a.props.opinion(!0),a.setState({hasClickedOpinion:!0})},a.handleClickDisagree=function(){a.props.opinion(!0),a.setState({hasClickedOpinion:!0})},a.state={hasClickedOpinion:!1},a}return Object(c.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.trends,a=t.username,r=n.map((function(t){return s.a.createElement("div",{className:"trendContainer my-5",key:t.id},s.a.createElement("div",null,s.a.createElement("h3",null,t.name),t.tweet_volume?s.a.createElement("h6",null,t.tweet_volume," tweets"):null),s.a.createElement("div",{className:"buttonContainer"},s.a.createElement("button",{className:"btn btn-success m-2",onClick:e.handleClickAgree},"Agree"),s.a.createElement("button",{className:"btn btn-danger  m-2",onClick:e.handleClickDisagree},"Disagree")))}));return a.trim()&&!this.state.hasClickedOpinion?s.a.createElement("div",null,s.a.createElement("h3",{className:"text-center"},"Welcome, ",a,"!"),r):null}}]),n}(s.a.Component),h=n(30),d=n.n(h),p=n(53),b=n(16),v=n(54),f=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).onLoginAttempt=Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.a)({domain:"twitwar.eu.auth0.com",client_id:"g7vWpCLneLdOPUeRx5KHeskBEwbcPQUa"});case 2:return t=e.sent,e.next=5,t.loginWithRedirect({redirect_uri:"https://ojaoc.github.io/hackertrollerz-ui/"});case 5:console.log(t);case 6:case"end":return e.stop()}}),e)}))),a.state={username:""},a.handleChange=a.handleChange.bind(Object(b.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(b.a)(a)),a}return Object(c.a)(n,[{key:"handleChange",value:function(e){this.setState({username:e.target.value})}},{key:"handleSubmit",value:function(e){this.props.setUsername(this.state.username),e.preventDefault()}},{key:"render",value:function(){return this.props.username.trim()?null:s.a.createElement("div",{className:"container"},s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("label",null,"Username:",s.a.createElement("input",{type:"text",value:this.state.username,onChange:this.handleChange})),s.a.createElement("input",{type:"submit",value:"Submit"})))}}]),n}(s.a.Component),g=n(57),k=n(55),O=n.n(k),C=n(56),A=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).onMessageReceive=function(e,t){console.log(e);var n={author:e.sender,message:e.content};a.setState((function(e){return{messages:[].concat(Object(g.a)(e.messages),[n])}}))},a.sendMessage=function(e,t){try{var n={sender:a.props.username,content:t.message,type:"CHAT"};return console.log(n),a.clientRef.sendMessage("/trend/lobby",JSON.stringify(n)),!0}catch(s){return!1}},a.state={clientConnected:!1,messages:[]},a}return Object(c.a)(n,[{key:"render",value:function(){var e=this;return this.props.opinion?s.a.createElement("div",null,s.a.createElement(C.TalkBox,{topic:"react-websocket-template",currentUserId:this.randomUserId,currentUser:this.randomUserName,messages:this.state.messages,onSendMessage:this.sendMessage,connected:this.state.clientConnected}),s.a.createElement(O.a,{url:"https://twit-war.herokuapp.com/ws",topics:["/trend/lobby"],onMessage:this.onMessageReceive,ref:function(t){e.clientRef=t},onConnect:function(){e.setState({clientConnected:!0})},onDisconnect:function(){e.setState({clientConnected:!1})},debug:!1})):null}}]),n}(s.a.Component),E=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).setUser=function(e){a.setState({username:e})},a.setHasClickedOpinion=function(e){a.setState({hasClickedOpinion:e})},a.state={username:"",error:null,isLoaded:!1,trends:[],hasClickedOpinion:!1},a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("https://twit-war.herokuapp.com/api/trends?bt=AAAAAAAAAAAAAAAAAAAAAC2uDwEAAAAAuUTw%2FQnHL9lqek0ODTp64ROuGBU%3D7fwFkHZVgPMjz3FdOVhZlsE7idVKtyI2kJj6zofXQx8JduNHvh").then((function(e){return e.json()})).then((function(t){e.setState({isLoaded:!0,trends:t[0].trends})}),(function(t){e.setState({isLoaded:!0,error:t})}))}},{key:"render",value:function(){var e=this.state,t=e.error,n=e.isLoaded;e.trends;return t?s.a.createElement("div",null,"Error: ",t.message):n?(console.log(this.state.trends),s.a.createElement("div",{className:"container"},s.a.createElement(f,{setUsername:this.setUser,username:this.state.username}),s.a.createElement(m,{trends:this.state.trends,username:this.state.username,opinion:this.setHasClickedOpinion}),s.a.createElement(A,{username:this.state.username,opinion:this.state.hasClickedOpinion}))):s.a.createElement("div",null,"Loading...")}}]),n}(s.a.Component);n(171),n(172),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},58:function(e,t,n){e.exports=n(173)}},[[58,1,2]]]);